<ion-app>
  <ion-menu menuId="menuPrincipal" contentId="main-content">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Menu Content</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <ion-menu-toggle>
          <ion-item button [routerLink]="['/principal']">
            <ion-label>Principal</ion-label>
          </ion-item>
          <ion-item button [routerLink]="['/lista-productos']">
            <ion-label>Lista de Productos</ion-label>
          </ion-item>
          <ion-item button [routerLink]="['/carrito-compras']">
            <ion-label>Carrito</ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>
    <ion-footer>
      <ion-menu-toggle>
        <ion-button
          color="primary"
          expand="block"
          (click)="abrirModalIniciarSesion()"
          *ngIf="!sesionIniciada"
        >
          INICIAR SESIÓN
        </ion-button>
        <ion-button
          color="primary"
          expand="block"
          (click)="cerrarSesion()"
          *ngIf="sesionIniciada"
        >
          CERRAR SESIÓN
        </ion-button>
      </ion-menu-toggle>
    </ion-footer>
  </ion-menu>
  <ion-router-outlet id="main-content"></ion-router-outlet>

  <ion-modal [isOpen]="abrirModalSesion" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">
              <ion-text color="light">Cancelar</ion-text>
            </ion-button>
          </ion-buttons>
          <ion-title>Login</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="registrate()" [strong]="true">
              <ion-text color="light">Regístrate</ion-text>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-input
            label="Ingresar email"
            labelPlacement="stacked"
            type="email"
            placeholder="example@gmail.com"
            [(ngModel)]="email"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input
            label="Ingresar password"
            labelPlacement="stacked"
            type="password"
            [(ngModel)]="password"
          ></ion-input>
        </ion-item>
      </ion-content>
      <ion-button expand="block" (click)="iniciarSesion()">
        INICIAR SESIÓN
      </ion-button>
    </ng-template>
  </ion-modal>
</ion-app>
